# Activo el módulo de Gestionproductos\
![Captura 1](.\b1.png)
# Creo los modelos
# library_author.py
```python
# -*- coding: utf-8 -*-

from odoo import models, fields, api


class library_author(models.Model):
    _name = 'library_drs.library_author'
    _description = 'Autor de Libros'

    name = fields.Char(string='Nombre', required=True)
    country_id = fields.Many2one('res.country', string='País de Origen')
    book_ids = fields.One2many(
        comodel_name='library_drs.library_book', 
        inverse_name='author_id', 
        string='Libros Escritos'
    )

```
# library_book.py
```python
# -*- coding: utf-8 -*-

from odoo import models, fields, api


class library_book(models.Model):
    _name = 'library_drs.library_book'
    _description = 'Libros de la Biblioteca'

    name = fields.Char(string='Título', required=True)
    author_id = fields.Many2one('library_drs.library_author', string='Autor')
    
    genre = fields.Selection(
        string='Género',
        selection=[
            ('novela', 'Novela'), 
            ('drama', 'Drama'), 
            ('ciencia_ficcion', 'Ciencia Ficción'), 
            ('misterio', 'Misterio'), 
            ('terror', 'Terror'), 
            ('historico', 'Histórico')
        ]
    )
    partner_ids = fields.Many2many(
        comodel_name='library_drs.library_socio', 
        string='Socios'
    )
```
# library_socio.py
```python
# -*- coding: utf-8 -*-

from odoo import models, fields, api


class library_socio(models.Model):
    _name = 'library_drs.library_socio'
    _description = 'Socios de la Biblioteca'

    name = fields.Char(string='Nombre', required=True)
    phone = fields.Char(string='Teléfono')
    book_ids = fields.Many2many(
        comodel_name='library_drs.library_book', 
        string='Libros Prestados'
    )
```
# Las views
# library_author_views.xml
```xml
<odoo>
  <data>
    <!-- explicit list view definition -->

    <record model="ir.ui.view" id="library_drs.list_autor">
      <field name="name">library_drs author</field>
      <field name="model">library_drs.library_author</field>
      <field name="arch" type="xml">
        <tree>
          <field name="name"/>
          <field name="country_id"/>
          <field name="book_ids"/>
        </tree>
      </field>
    </record>


    <!-- actions opening views on models -->

    <record model="ir.actions.act_window" id="library_drs.menu_autor">
      <field name="name">library_drs window</field>
      <field name="res_model">library_drs.library_author</field>
      <field name="view_mode">tree,form</field>
    </record>
  </data>
</odoo>
```
# library_book_views.xml
```xml
<odoo>
  <data>
    <!-- explicit list view definition -->

    <record model="ir.ui.view" id="library_drs.list_libro">
      <field name="name">library_drs book</field>
      <field name="model">library_drs.library_book</field>
      <field name="arch" type="xml">
        <tree>
          <field name="name"/>
          <field name="author_id"/>
          <field name="genre"/>
          <field name="partner_ids"/>
        </tree>
      </field>
    </record>


    <!-- actions opening views on models -->

    <record model="ir.actions.act_window" id="library_drs.menu_libro">
      <field name="name">library_drs window</field>
      <field name="res_model">library_drs.library_book</field>
      <field name="view_mode">tree,form</field>
    </record>
  </data>
</odoo>
```
# library_socio_views.xml
```xml
<odoo>
  <data>
    <!-- explicit list view definition -->

    <record model="ir.ui.view" id="library_drs.list_socio">
      <field name="name">library_drs socio</field>
      <field name="model">library_drs.library_socio</field>
      <field name="arch" type="xml">
        <tree>
          <field name="name"/>
          <field name="phone"/>
          <field name="book_ids"/>
        </tree>
      </field>
    </record>


    <!-- actions opening views on models -->

    <record model="ir.actions.act_window" id="library_drs.menu_socio">
      <field name="name">library_drs window</field>
      <field name="res_model">library_drs.library_socio</field>
      <field name="view_mode">tree,form</field>
    </record>
  </data>
</odoo>
```
# library_menu_views.xml
```xml
<odoo>
  <data>

    <menuitem name="Biblioteca DRS" id="library_drs.menu_root"/>

    <menuitem name="Libros" id="library_drs.menu_1" parent="library_drs.menu_root" sequence="10"/>
    <menuitem name="Autores" id="library_drs.menu_2" parent="library_drs.menu_root" sequence="20"/>
    <menuitem name="Socios" id="library_drs.menu_3" parent="library_drs.menu_root" sequence="30"/>

    <menuitem name="Lista de Libros" 
              id="library_drs.menu_1_list" 
              parent="library_drs.menu_1"
              action="library_drs.menu_libro"/>

    <menuitem name="Lista de Autores" 
              id="library_drs.menu_2_list" 
              parent="library_drs.menu_2"
              action="library_drs.menu_autor"/>

    <menuitem name="Lista de Socios" 
              id="library_drs.menu_3_list" 
              parent="library_drs.menu_3"
              action="library_drs.menu_socio"/>

  </data>
</odoo>
```
# el __manifest__.py
```python
# -*- coding: utf-8 -*-
{
    'name': "library_drs",

    'summary': """
        Short (1 phrase/line) summary of the module's purpose, used as
        subtitle on modules listing or apps.openerp.com""",

    'description': """
        Long description of module's purpose
    """,

    'author': "My Company",
    'website': "https://www.yourcompany.com",

    # Categories can be used to filter modules in modules listing
    # Check https://github.com/odoo/odoo/blob/16.0/odoo/addons/base/data/ir_module_category_data.xml
    # for the full list
    'category': 'Uncategorized',
    'version': '0.1',

    # any module necessary for this one to work correctly
    'depends': ['base'],

    # always loaded
    'data': [
        'security/ir.model.access.csv',
        # 'views/views.xml',
        'views/library_author_views.xml',
        'views/library_book_views.xml',
        'views/library_socio_views.xml',
        'views/library_menu_views.xml',
        'views/templates.xml',
    ],
    # only loaded in demonstration mode
    'demo': [
        'demo/demo.xml',
    ],
}

```
# ir.model.access.csv
```csv
id,name,model_id:id,group_id:id,perm_read,perm_write,perm_create,perm_unlink
access_library_book,library_drs.library_book,model_library_drs_library_book,base.group_user,1,1,1,1
access_library_author,library_drs.library_author,model_library_drs_library_author,base.group_user,1,1,1,1
access_library_socio,library_drs.library_socio,model_library_drs_library_socio,base.group_user,1,1,1,1
```
# Compruebo que funciona
![Captura 2](.\b2.png)
![Captura 3](.\b3.png)
![Captura 4](.\b4.png)